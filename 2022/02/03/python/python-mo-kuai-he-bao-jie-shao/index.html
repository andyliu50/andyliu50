<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"andyliu50.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="注：本文翻译自Python Modules and Packages – An Introduction。  本文主要探讨Python编程语言中的两种便于模块化编程(Modular programming)的机制：模块和包。 模块化编程是将大型的、复杂的编程工作，划分成独立、小块且便于管理的子任务或者模块，这些独立的模块可以像积木一样拼凑在一起，用于构建成一个应用。 在开发大型的应用中，模块化编">
<meta property="og:type" content="article">
<meta property="og:title" content="Python模块和包-介绍">
<meta property="og:url" content="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/index.html">
<meta property="og:site_name" content="Andy&#39;s Blog">
<meta property="og:description" content="注：本文翻译自Python Modules and Packages – An Introduction。  本文主要探讨Python编程语言中的两种便于模块化编程(Modular programming)的机制：模块和包。 模块化编程是将大型的、复杂的编程工作，划分成独立、小块且便于管理的子任务或者模块，这些独立的模块可以像积木一样拼凑在一起，用于构建成一个应用。 在开发大型的应用中，模块化编">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg1.9af1c7aea48f.png">
<meta property="og:image" content="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg1_133918.png">
<meta property="og:image" content="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg3.d2160908ae77.png">
<meta property="og:image" content="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg4_100818.png">
<meta property="article:published_time" content="2022-02-03T10:30:08.000Z">
<meta property="article:modified_time" content="2023-03-03T01:33:03.370Z">
<meta property="article:author" content="Andy">
<meta property="article:tag" content="python-basic">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg1.9af1c7aea48f.png">


<link rel="canonical" href="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/","path":"2022/02/03/python/python-mo-kuai-he-bao-jie-shao/","title":"Python模块和包-介绍"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Python模块和包-介绍 | Andy's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Andy's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">正念阁</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">21</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">8</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">55</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Python%E6%A8%A1%E5%9D%97%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">Python模块概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E6%9F%A5%E6%89%BE%E8%B7%AF%E5%BE%84"><span class="nav-number">2.</span> <span class="nav-text">模块查找路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#import%E5%A3%B0%E6%98%8E"><span class="nav-number">3.</span> <span class="nav-text">import声明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#import-lt-module-name-gt"><span class="nav-number">3.1.</span> <span class="nav-text">import &lt;module_name&gt;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#from-lt-module-name-gt-import-lt-name-s-gt"><span class="nav-number">3.2.</span> <span class="nav-text">from &lt;module_name&gt; import &lt;name(s)&gt;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#from-lt-module-name-gt-import-lt-name-gt-as-lt-alt-name-gt"><span class="nav-number">3.3.</span> <span class="nav-text">from &lt;module_name&gt; import &lt;name&gt; as &lt;alt_name&gt;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#import-lt-module-name-gt-as-lt-alt-name-gt"><span class="nav-number">3.4.</span> <span class="nav-text">import &lt;module_name&gt; as &lt;alt_name&gt;</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0dir"><span class="nav-number">4.</span> <span class="nav-text">函数dir()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E8%84%9A%E6%9C%AC%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%9D%97"><span class="nav-number">5.</span> <span class="nav-text">用脚本的方式运行模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97"><span class="nav-number">6.</span> <span class="nav-text">重新加载模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python-%E5%8C%85"><span class="nav-number">7.</span> <span class="nav-text">Python 包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">8.</span> <span class="nav-text">包初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Importing-From-a-Package"><span class="nav-number">9.</span> <span class="nav-text">Importing * From a Package</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E5%8C%85%EF%BC%88Subpackages%EF%BC%89"><span class="nav-number">10.</span> <span class="nav-text">子包（Subpackages）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">11.</span> <span class="nav-text">总结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Andy"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Andy</p>
  <div class="site-description" itemprop="description">正念日做自己的主人活在当下</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">55</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://andyliu50.github.io/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Andy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy's Blog">
      <meta itemprop="description" content="正念日做自己的主人活在当下">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Python模块和包-介绍 | Andy's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python模块和包-介绍
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-03 10:30:08" itemprop="dateCreated datePublished" datetime="2022-02-03T10:30:08+00:00">2022-02-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-03-03 01:33:03" itemprop="dateModified" datetime="2023-03-03T01:33:03+00:00">2023-03-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <blockquote>
<p>注：本文翻译自<a target="_blank" rel="noopener" href="https://realpython.com/python-modules-packages/">Python Modules and Packages – An Introduction</a>。</p>
</blockquote>
<p>本文主要探讨Python编程语言中的两种便于<strong>模块化编程(Modular programming)<strong>的机制：</strong>模块</strong>和<strong>包</strong>。</p>
<p><strong>模块化编程</strong>是将大型的、复杂的编程工作，划分成独立、小块且便于管理的子任务或者模块，这些独立的模块可以像积木一样拼凑在一起，用于构建成一个应用。</p>
<p>在开发大型的应用中，模块化编程有以下好处或特性：</p>
<ul>
<li><strong>简易性：</strong>与专注于全局相比，模块通常只需要专注在解决所有编程任务中的某一个局部问题。如果是负责编写一个模块，那么就只要专注于该模块所需要解决的问题，而不用去考虑模块以外的问题。这使得开发任务变得简单且不易出错。</li>
<li><strong>可维护性：</strong>通常在设计模块的时候，需要为各个模块之间实施逻辑边界。如果在编写模块的时候，能够尽量减少模块之间的依赖性，就可以减少由于单个模块的改变，导致对其它模块影响的可能性。（你甚至可以在不了解整个应用架构的情况下，对单个模块更改而不影响应用。）这对于团队的所有程序员能够互相协作完成整个大型应用而言，变得至关重要。</li>
<li><strong>可重复性：</strong>通过合理地定义模块中的接口，模块中定义的功能可以很方便地被应用中的其它部分重复利用。这减少了冗余的代码。</li>
<li><strong>范围：</strong>模块通常定义了一个独立的<strong>命名空间</strong>(<strong>namespace</strong>)，这有助于避免在程序不同部分中包含的标识符冲突。</li>
</ul>
<span id="more"></span>

<h2 id="Python模块概述"><a href="#Python模块概述" class="headerlink" title="Python模块概述"></a>Python模块概述</h2><p>在Python中，有三种定义模块的方式：</p>
<ol>
<li>用Python语言编写的模块</li>
<li>用<strong>C</strong>语言编写的模块，这种模块通常在程序运行时被动态加载，例如re(<strong>regular expression</strong>)模块</li>
<li>Python内置的模块，例如<strong>itertools</strong>模块</li>
</ol>
<p>对于以上三种定义模块的方式，都可以使用<strong>import</strong>声明来访问模块的内容。</p>
<p>在本文中，我们主要侧重于用Python语言编写的模块。比较酷的是，用Python语言编写的模块十分容易编译。只需要创建一个文件，文件名以<code>.py</code>后缀命名，然后写入合法的Python代码，该文件就可以作为模块使用了。</p>
<p>举例说明，假设你创建了一个名为mod.py的文件，并且包含以下代码：</p>
<p><em><strong>mod.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"If Comrade Napoleon says it, it must be right."</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'arg = </span><span class="token interpolation"><span class="token punctuation">&#123;</span>arg<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在<code>mod.py</code>中，主要定义了以下对象：</p>
<ul>
<li><code>s</code> (a string)</li>
<li><code>a</code> (a list)</li>
<li><code>foo()</code> (a function)</li>
<li><code>Foo</code> (a class)</li>
</ul>
<p>假设<code>mod.py</code>模块已经被放置在合适的位置，那么模块中包含的对象就可以通过<code>import</code>的方式访问模块的内容：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>mod<span class="token punctuation">.</span>s<span class="token punctuation">)</span>
If Comrade Napoleon says it<span class="token punctuation">,</span> it must be right<span class="token punctuation">.</span>
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>a
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'quux'</span><span class="token punctuation">,</span> <span class="token string">'corge'</span><span class="token punctuation">,</span> <span class="token string">'grault'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'quux'</span><span class="token punctuation">,</span> <span class="token string">'corge'</span><span class="token punctuation">,</span> <span class="token string">'grault'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> mod<span class="token punctuation">.</span>Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token operator">&lt;</span>mod<span class="token punctuation">.</span>Foo <span class="token builtin">object</span> at <span class="token number">0x03C181F0</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="模块查找路径"><a href="#模块查找路径" class="headerlink" title="模块查找路径"></a>模块查找路径</h2><p>继续引用上面的例子，让我们来看一下，当运行<code>import</code>声明时，到底发生了什么：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> mod<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>当Python解释器运行以上的<code>import</code>声明时，它会在一系列的目录中查找<code>mod.py</code>模块。这些目录的位置主要包含以下来源：</p>
<ul>
<li>如果解释器是通过交互式的方式运行，就会在脚本所在的<strong>当前目录</strong>查找<code>mod.py</code>模块。</li>
<li>如果设置了Python的环境变量，就会在<code>PYTHONPATH</code>环境变量定义的目录中查找模块。</li>
<li>Python安装过程中配置的与安装相关的目录</li>
</ul>
<p>模块的查找路径，可以通过<code>sys</code>模块获取：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> sys
<span class="token operator">>></span><span class="token operator">></span> sys<span class="token punctuation">.</span>path
<span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'C:\\Users\\john\\Documents\\Python\\doc'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\Lib\\idlelib'</span><span class="token punctuation">,</span>
<span class="token string">'C:\\Python36\\python36.zip'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\DLLs'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\lib'</span><span class="token punctuation">,</span>
<span class="token string">'C:\\Python36'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\lib\\site-packages'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意：根据安装的Python版本和操作系统不同，sys.path的内容会略有不同。以上例子中输出的结果可能与你计算机上看到的结果稍有差异。</p>
</blockquote>
<p>因此，为了确保编写的模块能够被Python解释器找到，你需要做以下工作：</p>
<ul>
<li>如果是交互式运行Python，需要将<code>mod.py</code>放到脚本所在的目录下面</li>
<li>打开Python解释器之前，修改<code>PYTHONPATH</code>环境变量，以包含<code>mod.py</code>模块所在的目录，或者也可以将<code>mod.py</code>模块复制到<code>PYTHONPATH</code>环境变量已经定义的目录下</li>
<li>将<code>mod.py</code>模块放到安装相关的目录下，但是根据操作系统的不同，可能对这些目录只有读取的权限，而没有写入的权限。</li>
</ul>
<p>其实，还有另外一种方法：你可以将模块文件放在任何一个目录下面，然后在运行脚本的时候修改<code>sys.path</code>的内容，以包含放置模块的目录。</p>
<p>例如，在下面的例子中，可以将<code>mod.py</code>放在目录<code>C:\Users\john</code>下面，然后运行以下指令：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">r'C:\Users\john'</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sys<span class="token punctuation">.</span>path
<span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'C:\\Users\\john\\Documents\\Python\\doc'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\Lib\\idlelib'</span><span class="token punctuation">,</span>
<span class="token string">'C:\\Python36\\python36.zip'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\DLLs'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\lib'</span><span class="token punctuation">,</span>
<span class="token string">'C:\\Python36'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Python36\\lib\\site-packages'</span><span class="token punctuation">,</span> <span class="token string">'C:\\Users\\john'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>模块被导入以后，你可以通过模块的属性<code>__file__</code>来查看模块文件的路径：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>__file__
<span class="token string">'C:\\Users\\john\\mod.py'</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> re
<span class="token operator">>></span><span class="token operator">></span> re<span class="token punctuation">.</span>__file__
<span class="token string">'C:\\Python36\\lib\\re.py'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>__file__</code>输出结果的目录部分，应该包含在<code>sys.path</code>的目录中。</p>
<h2 id="import声明"><a href="#import声明" class="headerlink" title="import声明"></a>import声明</h2><p>通过<code>import</code>声明可以导入模块的内容。<code>import</code>声明可以通过几种不同的方式来导入模块，以下一一介绍。</p>
<h3 id="import-lt-module-name-gt"><a href="#import-lt-module-name-gt" class="headerlink" title="import &lt;module_name&gt;"></a>import &lt;module_name&gt;</h3><p>最简单的导入模块的方式如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>由于模块有独立的命名空间，也就是说，模块有自己的<strong>私有符号表（private symbol table）</strong>，所以，即使在脚本中导入了模块，仍然无法直接访问模块中的对象。因为，这些对象仍然是被定义在模块的私有符号表中，如果要访问这些模块中的对象，必须要通过<strong>dot notation</strong>的方式来访问。</p>
<p>在通过<code>import</code>导入模块以后，<code>mod</code>已经在当前脚本的本地符号表中，因此，<code>mod</code>在当前脚本中可以直接访问：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> mod
<span class="token operator">&lt;</span>module <span class="token string">'mod'</span> <span class="token keyword">from</span> <span class="token string">'C:\\Users\\john\\Documents\\Python\\doc\\mod.py'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>但是，模块中定义的对象：<code>s</code>和<code>foo</code>仍然在模块私有符号表中，因此在本地符号表中并没有被定义：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s
NameError<span class="token punctuation">:</span> name <span class="token string">'s'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined
<span class="token operator">>></span><span class="token operator">></span> foo<span class="token punctuation">(</span><span class="token string">'quux'</span><span class="token punctuation">)</span>
NameError<span class="token punctuation">:</span> name <span class="token string">'foo'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>为了能在当前脚本中访问模块中的对象，必须在对象前面加上前缀：**<module_name>.**</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>s
<span class="token string">'If Comrade Napoleon says it, it must be right.'</span>
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token string">'quux'</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> quux<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>import</code>声明还可以一次导入多个模块，不同模块之间可以用逗号隔开：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="from-lt-module-name-gt-import-lt-name-s-gt"><a href="#from-lt-module-name-gt-import-lt-name-s-gt" class="headerlink" title="from &lt;module_name&gt; import &lt;name(s)&gt;"></a>from &lt;module_name&gt; import &lt;name(s)&gt;</h3><p><code>import</code>声明还可以将模块的对象直接导入到当前脚本的本地符号表中：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">&lt;</span>name<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>根据以上的导入方式，对象可以被直接访问，而不需要添加模块名前缀：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> s<span class="token punctuation">,</span> foo
<span class="token operator">>></span><span class="token operator">></span> s
<span class="token string">'If Comrade Napoleon says it, it must be right.'</span>
<span class="token operator">>></span><span class="token operator">></span> foo<span class="token punctuation">(</span><span class="token string">'quux'</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> quux

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> Foo
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token operator">&lt;</span>mod<span class="token punctuation">.</span>Foo <span class="token builtin">object</span> at <span class="token number">0x02E3AD50</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>由于<code>import</code>直接把对象导入到当前脚本的本地符号表中，当前脚本如果已经存在相同名称的对象，将会被导入的对象所覆盖：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> a
<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> a
<span class="token operator">>></span><span class="token operator">></span> a
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过以下方式，还可以将模块中的所有对象一次性导入到当前的脚本：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这种方式会将模块中的所有对象导入到本地符号表中，除了名称以下划线(__)开始的对象。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token operator">>></span><span class="token operator">></span> s
<span class="token string">'If Comrade Napoleon says it, it must be right.'</span>
<span class="token operator">>></span><span class="token operator">></span> a
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> foo
<span class="token operator">&lt;</span>function foo at <span class="token number">0x03B449C0</span><span class="token operator">></span>
<span class="token operator">>></span><span class="token operator">></span> Foo
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'mod.Foo'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在大规模的代码开发场景中，并不推荐这种一次性导入所有对象的方式。因为，这种方式很容易导致冲突，会将已经定义的对象覆盖，应尽量避免。</p>
<p>但是，如果在交互式解释器中运行，这种方式就非常方便，简单的输入，就能访问模块中的所有内容。</p>
<h3 id="from-lt-module-name-gt-import-lt-name-gt-as-lt-alt-name-gt"><a href="#from-lt-module-name-gt-import-lt-name-gt-as-lt-alt-name-gt" class="headerlink" title="from &lt;module_name&gt; import &lt;name&gt; as &lt;alt_name&gt;"></a>from &lt;module_name&gt; import &lt;name&gt; as &lt;alt_name&gt;</h3><p>如果导入的对象名称与本地对象名称冲突，可以用别名来代替模块中的对象名称：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">&lt;</span>name<span class="token operator">></span> <span class="token keyword">as</span> <span class="token operator">&lt;</span>alt_name<span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>name<span class="token operator">></span> <span class="token keyword">as</span> <span class="token operator">&lt;</span>alt_name<span class="token operator">></span> …<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这样，就可以既避免冲突，也可以直接将模块对象导入到本地符号表中：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> <span class="token string">'foo'</span>
<span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> s <span class="token keyword">as</span> string<span class="token punctuation">,</span> a <span class="token keyword">as</span> alist
<span class="token operator">>></span><span class="token operator">></span> s
<span class="token string">'foo'</span>
<span class="token operator">>></span><span class="token operator">></span> string
<span class="token string">'If Comrade Napoleon says it, it must be right.'</span>
<span class="token operator">>></span><span class="token operator">></span> a
<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> alist
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="import-lt-module-name-gt-as-lt-alt-name-gt"><a href="#import-lt-module-name-gt-as-lt-alt-name-gt" class="headerlink" title="import &lt;module_name&gt; as &lt;alt_name&gt;"></a>import &lt;module_name&gt; as &lt;alt_name&gt;</h3><p>你也可以在导入模块的时候，指定用别名来代替模块的实际名称：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">as</span> <span class="token operator">&lt;</span>alt_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod <span class="token keyword">as</span> my_module
<span class="token operator">>></span><span class="token operator">></span> my_module<span class="token punctuation">.</span>a
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> my_module<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token string">'qux'</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> qux<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>另外，在函数的定义中，也可以导入模块的内容。但是，只有当函数被调用的时候，模块才会被导入。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">from</span> mod <span class="token keyword">import</span> foo
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     foo<span class="token punctuation">(</span><span class="token string">'corge'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token operator">>></span><span class="token operator">></span> bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> corge<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>需要注意的是，在Python 3中，不支持用<code>import *</code>的语法在函数中定义导入模块的声明：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">from</span> mod <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
SyntaxError<span class="token punctuation">:</span> <span class="token keyword">import</span> <span class="token operator">*</span> only allowed at module level<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>最后，可以使用<code> try statement with an except ImportError</code>语句来处理导入模块失败的情况：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">try</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token comment"># Non-existent module</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">import</span> baz
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">except</span> ImportError<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Module not found'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

Module <span class="token keyword">not</span> found<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">try</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token comment"># Existing module, but non-existent object</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">from</span> mod <span class="token keyword">import</span> baz
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">except</span> ImportError<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Object not found in module'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

Object <span class="token keyword">not</span> found <span class="token keyword">in</span> module<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="函数dir"><a href="#函数dir" class="headerlink" title="函数dir()"></a>函数dir()</h2><p>在一个命名空间中，内置的<code>dir()</code>函数会返回一个列表，列表中包含的元素是已定义的名称。默认情况下，生成的列表成员按字母排序。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> qux <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'qux'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">pass</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> Bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Bar'</span><span class="token punctuation">,</span> <span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'qux'</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>从以上例子中可以注意到，第一次调用函数<code>dir()</code>后，在命名空间中已经存在预先定义好的名称。等到新的名称定义（qux, Bar, x）以后，就会出现在虽有调用函数<code>dir()</code>输出的结果中。</p>
<p>函数<code>dir()</code>有助于我们识别哪些对象通过<code>import</code>的方式导入到了当前的命名空间中：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>s
<span class="token string">'If Comrade Napoleon says it, it must be right.'</span>
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> a<span class="token punctuation">,</span> Foo
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Foo'</span><span class="token punctuation">,</span> <span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> a
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token operator">&lt;</span>mod<span class="token punctuation">.</span>Foo <span class="token builtin">object</span> at <span class="token number">0x002EAD50</span><span class="token operator">></span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> s <span class="token keyword">as</span> string
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Foo'</span><span class="token punctuation">,</span> <span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> string
<span class="token string">'If Comrade Napoleon says it, it must be right.'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当我们调用函数<code>dir()</code>的时候，将模块的名称作为参数，函数<code>dir()</code>就会列出模块中定义的所有名称：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span>mod<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Foo'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__cached__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__file__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span>
<span class="token string">'__name__'</span><span class="token punctuation">,</span> <span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> mod <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Foo'</span><span class="token punctuation">,</span> <span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="用脚本的方式运行模块"><a href="#用脚本的方式运行模块" class="headerlink" title="用脚本的方式运行模块"></a>用脚本的方式运行模块</h2><p>在Python中，任何模块文件同时也是一个脚本，因此，可以直接当成脚本来运行。</p>
<p>下面还是以<code>mod.py</code>脚本为例：</p>
<p><em><strong>mod.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"If Comrade Napoleon says it, it must be right."</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'arg = </span><span class="token interpolation"><span class="token punctuation">&#123;</span>arg<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>该模块如果以脚本来运行：</p>
<pre class="line-numbers language-Windows" data-language="Windows"><div class="caption"><span>Command Prompt</span></div><code class="language-Windows">C:\Users\john\Documents&gt;python mod.py
C:\Users\john\Documents&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>从以上结果来看，没有出现任何错误。因此，说明该脚本运行成功，但是由于只定义了对象，并没有输出任何结果。</p>
<p>下面修改一下脚本，让它输出一些内容：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"If Comrade Napoleon says it, it must be right."</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'arg = </span><span class="token interpolation"><span class="token punctuation">&#123;</span>arg<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
foo<span class="token punctuation">(</span><span class="token string">'quux'</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在，我们可以看到以下输出结果：</p>
<pre class="line-numbers language-Windows" data-language="Windows"><div class="caption"><span>Command Prompt</span></div><code class="language-Windows">C:\Users\john\Documents&gt;python mod.py
If Comrade Napoleon says it, it must be right.
[100, 200, 300]
arg &#x3D; quux
&lt;__main__.Foo object at 0x02F101D0&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果将其作为模块导入，我们会发现导入模块的过程中，也会输出结果：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
If Comrade Napoleon says it<span class="token punctuation">,</span> it must be right<span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
arg <span class="token operator">=</span> quux
<span class="token operator">&lt;</span>mod<span class="token punctuation">.</span>Foo <span class="token builtin">object</span> at <span class="token number">0x0169AD50</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通常情况下，我们都希望导入模块的时候，不生成任何结果。只有当模块作为脚本运行的时候，才输出结果。</p>
<p>当模块导入的时候，Python会将变量<code>__name__</code>设置为模块的名称，但是当作为脚本运行时，<code>__name__</code>会设置为字符串<code>__main__</code>。根据该特性，我们可以区分是导入模块还是运行脚本：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"If Comrade Napoleon says it, it must be right."</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'arg = </span><span class="token interpolation"><span class="token punctuation">&#123;</span>arg<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>__name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Executing as standalone script'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    foo<span class="token punctuation">(</span><span class="token string">'quux'</span><span class="token punctuation">)</span>
    x <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在，如果运行脚本，会得到以下结果：</p>
<pre class="line-numbers language-Windows" data-language="Windows"><div class="caption"><span>Command Prompt</span></div><code class="language-Windows">C:\Users\john\Documents&gt;python mod.py
Executing as standalone script
If Comrade Napoleon says it, it must be right.
[100, 200, 300]
arg &#x3D; quux
&lt;__main__.Foo object at 0x03450690&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>但是，如果当模块导入，就不会有任何结果输出：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token string">'grault'</span><span class="token punctuation">)</span>
arg <span class="token operator">=</span> grault<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>通常在设计模块的时候，为了对模块做单元测试，也需要将模块当作脚本来直接运行。例如，假设创建了一个<code>fact.py</code>的模块，该模块包含factorial函数：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fact</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token number">1</span> <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> n <span class="token operator">*</span> fact<span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>__name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> sys
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>fact<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>将该模块中的<code>fact()</code>函数导入：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> fact <span class="token keyword">import</span> fact
<span class="token operator">>></span><span class="token operator">></span> fact<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token number">720</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>另外，为了测试，也可以将该模块单独运行，在命令行中输入整型参数：</p>
<pre class="line-numbers language-Windows" data-language="Windows"><div class="caption"><span>Command Prompt</span></div><code class="language-Windows">C:\Users\john\Documents&gt;python fact.py 6
720<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h2 id="重新加载模块"><a href="#重新加载模块" class="headerlink" title="重新加载模块"></a>重新加载模块</h2><p>出于效率的原因，在每一个解释器会话中，模块只会被加载一次。对于函数和类的定义来说，这没什么问题。但是，通常是为了初始化的缘故，模块还可能包含一些可执行的声明。需要注意的是，在当前的解释器会话中，当模块被导入后，这些声明只会被执行一次。即使再次导入模块，这些声明也不会被再次执行。</p>
<p>下面以<code>mod.py</code>:</p>
<p><em><strong>mod.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a ='</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod

<span class="token operator">>></span><span class="token operator">></span> mod<span class="token punctuation">.</span>a
<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上例子中，在后续两次import过程中，<code>print()</code>声明都没有别执行。其实，声明<code>a = [100, 200, 300]</code>也没有再次执行，但是最后<code>mod.a</code>的结果显示，一旦赋值声明（assignment statement）执行后，就会将结果保留。</p>
<p>如果更改了模块的内容，并且需要重新加载模块，可以重启解释器，或者使用模块<code>importlib</code>中的函数<code>reload()</code>:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> mod

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> importlib
<span class="token operator">>></span><span class="token operator">></span> importlib<span class="token punctuation">.</span><span class="token builtin">reload</span><span class="token punctuation">(</span>mod<span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span>
<span class="token operator">&lt;</span>module <span class="token string">'mod'</span> <span class="token keyword">from</span> <span class="token string">'C:\\Users\\john\\Documents\\Python\\doc\\mod.py'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="Python-包"><a href="#Python-包" class="headerlink" title="Python 包"></a>Python 包</h2><p>假设你开发了一个大型的应用，该应用包含许多模块。随着模块数量的增加，尤其是当这些模块有相似的名称和功能的时候，管理这些模块变得越来越困难。你可能会希望有一个更换的方法来分类和组织这些模块。</p>
<p><strong>包</strong>通过使用点表示法（<strong>dot notation</strong>），可以提供一种层次性结构的模块命名空间。通过这种方式，<strong>模块</strong>可以使得全局变量名之间避免冲突，<strong>包</strong>可以使得模块名之间避免冲突。</p>
<p>创建一个<strong>包</strong>非常简单，只需要创建一个目录，并将模块放到该目录下面。该目录就是一个Python<strong>包</strong>。</p>
<p>可以参考一下下面的例子：</p>
<p><img src="/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg1.9af1c7aea48f.png"></p>
<p>以上例子中，目录名为<code>pkg</code>，该目录包含两个模块：<code>mod1.py</code>和<code>mod2.py</code>。模块的内容如下：</p>
<p><em><strong>mod1.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod1] foo()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>mod2.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod2] bar()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Bar</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>根据这种结构，我们可以继续使用之前导入模块的方法，使用点表示法（<strong>dot notation</strong>）来导入包里面的模块：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pkg<span class="token punctuation">.</span>mod1<span class="token punctuation">,</span> pkg<span class="token punctuation">.</span>mod2
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> pkg<span class="token punctuation">.</span>mod2<span class="token punctuation">.</span>Bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token operator">&lt;</span>pkg<span class="token punctuation">.</span>mod2<span class="token punctuation">.</span>Bar <span class="token builtin">object</span> at <span class="token number">0x033F7290</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">&lt;</span>name<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>mod1 <span class="token keyword">import</span> foo
<span class="token operator">>></span><span class="token operator">></span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">&lt;</span>name<span class="token operator">></span> <span class="token keyword">as</span> <span class="token operator">&lt;</span>alt_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>mod2 <span class="token keyword">import</span> Bar <span class="token keyword">as</span> Qux
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> Qux<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token operator">&lt;</span>pkg<span class="token punctuation">.</span>mod2<span class="token punctuation">.</span>Bar <span class="token builtin">object</span> at <span class="token number">0x036DFFD0</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>另外，你也可以使用以下方式导入模块：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>package_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">&lt;</span>modules_name<span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">from</span> <span class="token operator">&lt;</span>package_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">&lt;</span>module_name<span class="token operator">></span> <span class="token keyword">as</span> <span class="token operator">&lt;</span>alt_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg <span class="token keyword">import</span> mod1
<span class="token operator">>></span><span class="token operator">></span> mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg <span class="token keyword">import</span> mod2 <span class="token keyword">as</span> quux
<span class="token operator">>></span><span class="token operator">></span> quux<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod2<span class="token punctuation">]</span> bar<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其实，从技术上来讲，你也可以直接导入包：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pkg
<span class="token operator">>></span><span class="token operator">></span> pkg
<span class="token operator">&lt;</span>module <span class="token string">'pkg'</span> <span class="token punctuation">(</span>namespace<span class="token punctuation">)</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>但是，其实这没有什么用。虽然用这种方式导入了包，但实际上模块并没有被导入到本地命名空间。所以，在调用模块时就会报错。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>mod1
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#34>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    pkg<span class="token punctuation">.</span>mod1
AttributeError<span class="token punctuation">:</span> module <span class="token string">'pkg'</span> has no attribute <span class="token string">'mod1'</span>
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#35>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    pkg<span class="token punctuation">.</span>mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
AttributeError<span class="token punctuation">:</span> module <span class="token string">'pkg'</span> has no attribute <span class="token string">'mod1'</span>
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>mod2<span class="token punctuation">.</span>Bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#36>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    pkg<span class="token punctuation">.</span>mod2<span class="token punctuation">.</span>Bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
AttributeError<span class="token punctuation">:</span> module <span class="token string">'pkg'</span> has no attribute <span class="token string">'mod2'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>因此，你需要使用之前的方法导入模块或者模块所包含的对象。</p>
<h2 id="包初始化"><a href="#包初始化" class="headerlink" title="包初始化"></a>包初始化</h2><p>如果在包的目录下有文件名为<code>__init__.py</code>的文件，当包或者模块被导入的时候，该文件就会被调用执行。文件中包含的代码主要用来对包进行初始化。</p>
<p>下面，可以参考一下以下<code>__init__.py</code>文件：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Invoking __init__.py for </span><span class="token interpolation"><span class="token punctuation">&#123;</span>__name__<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'quux'</span><span class="token punctuation">,</span> <span class="token string">'corge'</span><span class="token punctuation">,</span> <span class="token string">'grault'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>将文件<code>__init__.py</code>放到<code>pkg</code>目录下方：</p>
<p><img src="/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg1_133918.png"></p>
<p>当包被导入的时候，全局列表A会被初始化：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pkg
Invoking __init__<span class="token punctuation">.</span>py <span class="token keyword">for</span> pkg
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>A
<span class="token punctuation">[</span><span class="token string">'quux'</span><span class="token punctuation">,</span> <span class="token string">'corge'</span><span class="token punctuation">,</span> <span class="token string">'grault'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>在包中的模块也可以访问全局列表A：</p>
<p><em><strong>mode1.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">from</span> pkg <span class="token keyword">import</span> A
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod1] foo() / A = '</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg <span class="token keyword">import</span> mod1
Invoking __init__<span class="token punctuation">.</span>py <span class="token keyword">for</span> pkg
<span class="token operator">>></span><span class="token operator">></span> mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> A <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token string">'quux'</span><span class="token punctuation">,</span> <span class="token string">'corge'</span><span class="token punctuation">,</span> <span class="token string">'grault'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>文件<code>__init__.py</code>还可以用来导入包中的模块。例如，之前如果只导入包<code>import pkg</code>，实际上模块并没有被导入。但是，如果在文件<code>__init__.py</code>中添加以下语句：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Invoking __init__.py for </span><span class="token interpolation"><span class="token punctuation">&#123;</span>__name__<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
<span class="token keyword">import</span> pkg<span class="token punctuation">.</span>mod1<span class="token punctuation">,</span> pkg<span class="token punctuation">.</span>mod2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>当运行<code>import pkg</code>的时候，模块mod1和mod2就会自动被导入：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pkg
Invoking __init__<span class="token punctuation">.</span>py <span class="token keyword">for</span> pkg
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>mod2<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod2<span class="token punctuation">]</span> bar<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意：大部分的Pyton文档中都声明，如果要创建包，就必须在包目录下创建文件<code>__init__.py</code>，即使该文件不包含任何内容，也必须出现在包所在目录下。</p>
<p>但是，从Python 3.3开始， <a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0420">Implicit Namespace Packages</a>允许即使没有文件<code>__init__.py</code>文件，仍然可以创建包。当然，如果要初始化包，仍然可以使用<code>__init__.py</code>文件。</p>
</blockquote>
<h2 id="Importing-From-a-Package"><a href="#Importing-From-a-Package" class="headerlink" title="Importing * From a Package"></a>Importing * From a Package</h2><p>为了便于接下来的讨论，在之前定义的包中增加一些额外的模块：</p>
<p><img src="/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg3.d2160908ae77.png"></p>
<p>现在，包里面有4个模块，具体分别如下：</p>
<p><em><strong>mod1.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod1] foo()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>mod2.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod2] bar()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Bar</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>mod3.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod3] baz()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Baz</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>mod4.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">qux</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod4] qux()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Qux</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>根据之前的例子，如果用<code>from &lt;module name &gt; import *</code>的方式导入模块，除了以下划线命名的对象以外，可以将模块包含的所有对象导入到本地符号表：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>mod3 <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Baz'</span><span class="token punctuation">,</span> <span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> baz<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod3<span class="token punctuation">]</span> baz<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> Baz
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'pkg.mod3.Baz'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>同样，我们也可以用相似的语法导入包：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> <span class="token operator">&lt;</span>package_name<span class="token operator">></span> <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>但是，与导入模块不同，用<code>from &lt;package_name&gt; import *</code>导入包后，结果却显示没有导入任何内容。</p>
<p>其实，Python遵循了一种规范：如果<code>__init__.py</code>的代码中有一个名为<code>__all__</code>的列表，该列表中定义的模块名，在用<code>from &lt;package_name&gt; import *</code>导入时，就会被自动导入。</p>
<p>在当前的例子中，假设你在<code>pkg</code>包中创建了一个<code>__init__.py</code>的文件，内容如下：</p>
<p><em><strong>pkg&#x2F;<strong>init</strong>.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">__all__ <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'mod1'</span><span class="token punctuation">,</span>
        <span class="token string">'mod2'</span><span class="token punctuation">,</span>
        <span class="token string">'mod3'</span><span class="token punctuation">,</span>
        <span class="token string">'mod4'</span>
        <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在用<code>from pkg import *</code>导入包后，就可以同时导入4个模块：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'mod1'</span><span class="token punctuation">,</span> <span class="token string">'mod2'</span><span class="token punctuation">,</span> <span class="token string">'mod3'</span><span class="token punctuation">,</span> <span class="token string">'mod4'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> mod2<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod2<span class="token punctuation">]</span> bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> mod4<span class="token punctuation">.</span>Qux
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'pkg.mod4.Qux'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过<code>__all__</code>这种方式，我们就可以控制哪些模块可以被<code>import *</code>这种方式自动导入。</p>
<p>其实，<code>__all__</code>也可以用相同的方式作用于模块：控制模块中的哪些对象可以被<code>import *</code>的方式导入。</p>
<p>下面以<code>mod1.py</code>为例：</p>
<p><em><strong>pkg&#x2F;mod1.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod1] foo()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>根据以上模块中<code>__all__</code>的定义，通过<code>import *</code>只会导入<code>foo</code>对象：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>mod1 <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span>
<span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> Foo
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#37>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    Foo
NameError<span class="token punctuation">:</span> name <span class="token string">'Foo'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>foo()</code>被导入到本地命名空间，但是类<code>Foo</code>并没有被导入，因为<code>Foo</code>并没有被定义在<code>__all__</code>中。</p>
<p>总结一下，当使用<code>import *</code>语句的时候，<code>__all__</code>可以用来定义<strong>包</strong>和<strong>模块</strong>导入的内容。但是，具体的使用上有一些区别：</p>
<ul>
<li>对包而言，当<code>__all__</code>没有定义的时候，<code>import *</code>不会导入任何内容。</li>
<li>对模块而言，当<code>__all__</code>没有定义的时候，<code>import *</code>会导入模块中的所有对象（除了以下划线命名的对象）。</li>
</ul>
<h2 id="子包（Subpackages）"><a href="#子包（Subpackages）" class="headerlink" title="子包（Subpackages）"></a>子包（Subpackages）</h2><p>包还可以包含子包，对于子包的层级也没有任何限制。例如，对之前的例子做一些修改：</p>
<p><img src="/2022/02/03/python/python-mo-kuai-he-bao-jie-shao/pkg4_100818.png"></p>
<p>之前定义的四个模块：<code>mod1.py</code>, <code>mod2.py</code>, <code>mod3.py</code>, <code>mod4.py</code>，分别被放到两个子包下面：<code>sub_pkg1</code>和<code>sub_pkg2</code>。</p>
<p>仍然和之前一样，可以用点表达式的方式导入子包下面的模块：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pkg<span class="token punctuation">.</span>sub_pkg1<span class="token punctuation">.</span>mod1
<span class="token operator">>></span><span class="token operator">></span> pkg<span class="token punctuation">.</span>sub_pkg1<span class="token punctuation">.</span>mod1<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>sub_pkg1 <span class="token keyword">import</span> mod2
<span class="token operator">>></span><span class="token operator">></span> mod2<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod2<span class="token punctuation">]</span> bar<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>sub_pkg2<span class="token punctuation">.</span>mod3 <span class="token keyword">import</span> baz
<span class="token operator">>></span><span class="token operator">></span> baz<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod3<span class="token punctuation">]</span> baz<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>sub_pkg2<span class="token punctuation">.</span>mod4 <span class="token keyword">import</span> qux <span class="token keyword">as</span> grault
<span class="token operator">>></span><span class="token operator">></span> grault<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod4<span class="token punctuation">]</span> qux<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>另外，在子包中的模块，还可以引用同级子包中的模块。</p>
<p>例如，假设你想要在模块<code>mod3</code>中导入并允许函数模块<code>mod1</code>中的函数<code>foo()</code>，你可以使用<strong>绝对导入</strong>：</p>
<p><em><strong>pkg&#x2F;sub__pkg2&#x2F;mod3.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod3] baz()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Baz</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">from</span> pkg<span class="token punctuation">.</span>sub_pkg1<span class="token punctuation">.</span>mod1 <span class="token keyword">import</span> foo
foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>sub_pkg2 <span class="token keyword">import</span> mod3
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> mod3<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>或者，你还可以使用<strong>相对导入</strong>，在相对导入中，<code>..</code>代表的是上一级包。</p>
<ul>
<li><code>..</code>代表的是上级包<code>pkg</code></li>
<li><code>..sub_pkg1</code>代表的是子包<code>sub_pkg1</code>的上一级包</li>
</ul>
<p><em><strong>pkg&#x2F;sub__pkg2&#x2F;mod3.py</strong></em></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[mod3] baz()'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Baz</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">import</span> sub_pkg1
<span class="token keyword">print</span><span class="token punctuation">(</span>sub_pkg1<span class="token punctuation">)</span>

<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>sub_pkg1<span class="token punctuation">.</span>mod1 <span class="token keyword">import</span> foo
foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> pkg<span class="token punctuation">.</span>sub_pkg2 <span class="token keyword">import</span> mod3
<span class="token operator">&lt;</span>module <span class="token string">'pkg.sub_pkg1'</span> <span class="token punctuation">(</span>namespace<span class="token punctuation">)</span><span class="token operator">></span>
<span class="token punctuation">[</span>mod1<span class="token punctuation">]</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在本指南中，你可以学到以下内容：</p>
<ul>
<li>如何创建Python模块</li>
<li>Python解释器如何查找模块</li>
<li>通过<code>import</code>语句，如何访问模块中定义的对象</li>
<li>如何将模块作为独立脚本来运行</li>
<li>如何用包和子包的方式组织模块</li>
<li>如何初始化包</li>
</ul>
<p>关于更多模块和包的内容，可以参考<strong>Python.org</strong>网站的文档：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/import.html">The <code>import</code> system</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/modules.html">The Python tutorial: Modules</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python-basic/" rel="tag"># python-basic</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/12/31/bian-cheng/chuang-jian-ji-hua-ren-wu/" rel="prev" title="创建计划任务">
                  <i class="fa fa-chevron-left"></i> 创建计划任务
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/02/07/python/f-strings-ge-shi-hua-zi-fu-chuan/" rel="next" title="Python's f-Strings:改进版格式化字符串语法指南">
                  Python's f-Strings:改进版格式化字符串语法指南 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Andy</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
