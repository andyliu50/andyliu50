<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"andyliu50.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="面向对象的编程 注：本文翻译自Object-Oriented Programming (OOP) in Python 3 – Real Python。  面向对象的编程（Object-oriented programming ）是一种构建程序的方式，这种方式将相关的属性和行为绑定到个别的对象上。通过本文，你将了解到关于面向对象编程的基础知识。 理论上来说，对象就好像是一个系统的组件。如果将一个程序">
<meta property="og:type" content="article">
<meta property="og:title" content="面向对象的编程">
<meta property="og:url" content="https://andyliu50.github.io/2022/02/20/mian-xiang-dui-xiang-de-bian-cheng/index.html">
<meta property="og:site_name" content="Andy&#39;s Tech">
<meta property="og:description" content="面向对象的编程 注：本文翻译自Object-Oriented Programming (OOP) in Python 3 – Real Python。  面向对象的编程（Object-oriented programming ）是一种构建程序的方式，这种方式将相关的属性和行为绑定到个别的对象上。通过本文，你将了解到关于面向对象编程的基础知识。 理论上来说，对象就好像是一个系统的组件。如果将一个程序">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-02-20T15:49:45.000Z">
<meta property="article:modified_time" content="2023-12-12T05:26:18.479Z">
<meta property="article:author" content="Andy">
<meta property="article:tag" content="python-intermediate">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://andyliu50.github.io/2022/02/20/mian-xiang-dui-xiang-de-bian-cheng/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://andyliu50.github.io/2022/02/20/mian-xiang-dui-xiang-de-bian-cheng/","path":"2022/02/20/mian-xiang-dui-xiang-de-bian-cheng/","title":"面向对象的编程"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>面向对象的编程 | Andy's Tech</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Andy's Tech</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">正念阁</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">1</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">1</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">2</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BC%96%E7%A8%8B"><span class="nav-number">1.</span> <span class="nav-text">面向对象的编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BC%96%E7%A8%8B"><span class="nav-number">1.1.</span> <span class="nav-text">什么是面向对象的编程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="nav-number">1.2.</span> <span class="nav-text">定义一个类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B"><span class="nav-number">1.2.1.</span> <span class="nav-text">类和实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="nav-number">1.2.2.</span> <span class="nav-text">如何定义一个类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.3.</span> <span class="nav-text">实例化一个对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7"><span class="nav-number">1.3.1.</span> <span class="nav-text">类和实例属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.2.</span> <span class="nav-text">实例方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="nav-number">1.4.</span> <span class="nav-text">类的继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%9B%E7%8B%97%E5%85%AC%E5%9B%AD%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-number">1.4.1.</span> <span class="nav-text">遛狗公园的例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%88%B6%E7%B1%BB%E5%92%8C%E5%AD%90%E7%B1%BB"><span class="nav-number">1.4.2.</span> <span class="nav-text">父类和子类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A9%E5%B1%95%E7%88%B6%E7%B1%BB%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">1.4.3.</span> <span class="nav-text">扩展父类的功能</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">1.5.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Andy"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Andy</p>
  <div class="site-description" itemprop="description">正念日做自己的主人活在当下</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://andyliu50.github.io/2022/02/20/mian-xiang-dui-xiang-de-bian-cheng/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Andy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy's Tech">
      <meta itemprop="description" content="正念日做自己的主人活在当下">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="面向对象的编程 | Andy's Tech">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          面向对象的编程
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-02-20 15:49:45" itemprop="dateCreated datePublished" datetime="2022-02-20T15:49:45+00:00">2022-02-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-12 05:26:18" itemprop="dateModified" datetime="2023-12-12T05:26:18+00:00">2023-12-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="面向对象的编程"><a href="#面向对象的编程" class="headerlink" title="面向对象的编程"></a>面向对象的编程</h1><blockquote>
<p>注：本文翻译自<a target="_blank" rel="noopener" href="https://realpython.com/python3-object-oriented-programming/">Object-Oriented Programming (OOP) in Python 3 – Real Python</a>。</p>
</blockquote>
<p><strong>面向对象的编程</strong>（<strong>Object-oriented programming</strong> ）是一种构建程序的方式，这种方式将相关的属性和行为绑定到个别的对象上。通过本文，你将了解到关于面向对象编程的基础知识。</p>
<p>理论上来说，对象就好像是一个系统的组件。如果将一个程序想象成一家工厂的各种装配线。在装配线上的每一个环境，系统的部件都会对原材料进行加工处理，最后，原材料被加工成一个产品。</p>
<p>一个对象包含数据（就像是装配线上需要处理的原材料）和行为（装配线上的组件执行的操作）。</p>
<span id="more"></span>

<h2 id="什么是面向对象的编程"><a href="#什么是面向对象的编程" class="headerlink" title="什么是面向对象的编程"></a>什么是面向对象的编程</h2><p><strong>面向对象的编程</strong>（<strong>Object-oriented programming</strong> ）是一种编程的范式。它提供了一种构建程序的方式，这种方式将相关的属性和行为绑定到个别的对象上。</p>
<p>例如，一个对象可以代表一个人，这个人拥有属性，如姓名，年龄和地址，以及拥有行为（方法），例如行走，讲话，呼吸和奔跑。或者一个对象也可以代表一封邮寄，这封邮件拥有属性，如收件人列表，主题和正文，以及拥有行为，例如添加附件和发送。</p>
<p>换一种说法，面向对象的编程用一种建模的方法来描述现实世界的事物，例如汽车，以及相关的事务，如工厂和工人，学生和老师等等。面向对象的编程通过建模的方式，将现实世界的个体描述为软件的对象，这些对象拥有相关的数据和哈数。</p>
<p>另外一种常见的编程方式是面向过程的编程。这种方式就像是一本菜谱，提供了一系列的步骤，以函数和代码块的方式，按顺序完成任务。</p>
<p>关键点是，对象是面向对象编程的核心，对象不仅代表数据，同时也代表了程序的整体结构。</p>
<h2 id="定义一个类"><a href="#定义一个类" class="headerlink" title="定义一个类"></a>定义一个类</h2><p>基础的数据结构，如数字、字符串和列表，主要分别用来表示简单的信息，例如苹果的加个，诗的名称或者你喜欢的颜色。但是，如果你想要表示更为复杂的信息该怎么办呢？</p>
<p>例如，假设你想要记录组织的员工信息。你需要存储每一个员工的基本信息，例如他们的名字、年龄、职位和工作年限。</p>
<p>一种方式是通过列表来表示每一个员工的信息：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">kirk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"James Kirk"</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token string">"Captain"</span><span class="token punctuation">,</span> <span class="token number">2265</span><span class="token punctuation">]</span>
spock <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Spock"</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">"Science Officer"</span><span class="token punctuation">,</span> <span class="token number">2254</span><span class="token punctuation">]</span>
mccoy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Leonard McCoy"</span><span class="token punctuation">,</span> <span class="token string">"Chief Medical Officer"</span><span class="token punctuation">,</span> <span class="token number">2266</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果使用以上这种方式，会存在一些问题。</p>
<p>首先，它使得代码文件难以管理。如果你定义了<code>kirk</code>列表以后，隔了很多行才引用<code>kirk[0]</code>，你还会记得索引值为0的列表元素对应的是员工的名字吗？</p>
<p>其次，如果每一个员工在列表中的信息数量并不相同，就会导致代码运行出错。以上例子中，<code>mccoy</code>列表缺少年龄的信息，因此<code>mccoy[1]</code>返回的是”Chief Medical Officer”，而不是Dr. McCoy的年龄。</p>
<p>一种比较好的解决方式是使用类。</p>
<h3 id="类和实例"><a href="#类和实例" class="headerlink" title="类和实例"></a>类和实例</h3><p>类用于创建用户自己定义的数据结构。类定义的函数成为<strong>方法</strong>（<strong>methods</strong>）。方法定义了对象可以对数据所作的操作。</p>
<p>本文中，你将创建一个名为<code>Dog</code>的类，该类将用来存储狗的信息以及行为。</p>
<p>一个类本身并不包含任何数据，而是一种蓝图，用来定义事物。<code>Dog</code>类定义了狗的名字和年龄，但是并没有包含某一条狗的具体名字和年龄。</p>
<p>既然类是一种蓝图，那么实例就是根据蓝图创建的对象，包含实际的数据。一个<code>Dog</code>类的实例不再是一种蓝图，它是一只实际的狗，有名字，例如Miles，年龄是4岁。</p>
<p>换一种说法，一个类就像是一张空白的表格或者问卷表。一个实例就是一张已经填写了信息的表格。就像许多人都可以根据自己的信息来填写表格，根据同一个类，也可以创建许多实例。</p>
<h3 id="如何定义一个类"><a href="#如何定义一个类" class="headerlink" title="如何定义一个类"></a>如何定义一个类</h3><p>首先定义一个类，需要以关键字<code>class</code>开头，然后后面是类的名称和冒号。换行后，下面缩进的内容都属于类的正文。</p>
<p>下面以<code>Dog</code>类为例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>Dog</code>类的正文只有一个声明：关键字<code>pass</code>。 <code>pass</code>不执行任何操作，只是一个占位符。在没有为类写任何代码的情况下，使用<code>pass</code>可以避免程序在运行时出错。</p>
<blockquote>
<p>注意：类的名称通常是首字母大写。例如，定义某一种狗的类，如 Jack Russell Terrier，那么类的名称就可以写为<code>JackRussellTerrier</code>。</p>
</blockquote>
<p>目前，<code>Dog</code>类并没有任何属性，我们可以为它定义一些属性，例如名字、年龄、衣服颜色和品种。为了简单起见，我们只使用名字和年龄。</p>
<p>类的属性通常都是通过方法<code>.__init__()</code>来定义。每次创建一个<code>Dog</code>对象的时候，<code>.__init__()</code>就会通过为对象的属性赋值，来设置对象的初始状态。因此，<code>.__init__()</code>为类的每一个实例完成了初始化。</p>
<p>你可以为<code>.__init__()</code>设置任意数量的参数，但是第一个参数都是<code>self</code>。当一个类的实例被创建的时候，改实例自动被传递给<code>.__init__()</code>中的<code>self</code>参数，这样才能为对象定义新的属性。</p>
<p>让我们更改一下<code>Dog</code>类的<code>.__init__()</code>方法，创建<code>.name</code>和<code>.age</code>属性(attributes)。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意到<code>.__init__()</code>方法缩进了4个空格，而方法的正文缩进了8个空格。空格缩进十分重要，通过空格缩进，Python才能知道<code>.__init__()</code>方法属于<code>Dog</code>类。</p>
<p>在<code>.__init__()</code>的正文中，有2个声明使用了<code>self</code>变量：</p>
<ol>
<li><code>self.name = name</code>创建了一个名为<code>name</code>的属性，并用参数<code>name</code>为它赋值。</li>
<li><code>self.age = age</code>创建了一个名为<code>age</code>的属性，并用参数<code>age</code>为它赋值。</li>
</ol>
<p>在<code>.__init__()</code>中创建的属性称为<strong>实例属性</strong>（<strong>Instance attributes</strong>）。实例属性的值只属于类的某一个实例。所有<code>Dog</code>对象都有名字和年龄，但是每一个实例的名字和年龄值是不相同的。</p>
<p>另一方面，<strong>类的属性</strong>（<strong>class attributes</strong>）在所有的类的实例中，都拥有相同的属性值。你可以在<code>.__init__()</code>以外的位置定义一个变量并为其赋值，该变量就是类的属性。</p>
<p>例如，下面的<code>Dog</code>类中有一个类的属性<code>species</code>，值为”Canis familiaris”：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    <span class="token comment"># Class attribute</span>
    species <span class="token operator">=</span> <span class="token string">"Canis familiaris"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>类的属性直接定义在类的名称下方第一行，并缩进4格。它们必须设置一个初始值。当创建类的实例的时候，类的属性被自动创建，并分配初始值。</p>
<p>当需要为每一个类的实例赋予相同属性值的时候，可以使用<strong>类的属性</strong>，当需要为每一个类的实例赋予不同属性值的时候，可以使用<strong>实例属性</strong>。</p>
<h2 id="实例化一个对象"><a href="#实例化一个对象" class="headerlink" title="实例化一个对象"></a>实例化一个对象</h2><p>打开IDLE的交互窗口，输入以下内容：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这样就创建了一个<code>Dog</code>类，但是这个类既没有属性也没有方法。</p>
<p>从一个类创建一个新的对象，成为<strong>实例化</strong>(<strong>instantiating</strong>)一个对象。通过输入类的名称并加上双括号，你可以实例化一个新的<code>Dog</code>对象：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Dog <span class="token builtin">object</span> at <span class="token number">0x106702d30</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>现在，你在<code>0x106702d30</code>有一个新的<code>Dog</code>对象。<code>0x106702d30</code>代表的是内存地址。在不同的电脑上，该内存地址的值是不同的。</p>
<p>现在，实例化第二个对象：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Dog <span class="token builtin">object</span> at <span class="token number">0x0004ccc90</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这个新的<code>Dog</code>实例存储在完全不同的内存地址。因为这是一个全新的实例，与之前创建的第一个实例完全不同。</p>
<p>我们可以通过以下方式来判断两个实例是否相同：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">==</span> b
<span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过以上代码，我们可以看到，虽然a和b都是通过<code>Dog</code>类创建的实例，但是他们代表了完全不同的对象。</p>
<h3 id="类和实例属性"><a href="#类和实例属性" class="headerlink" title="类和实例属性"></a>类和实例属性</h3><p>现在，创建一个<code>Dog</code>类，该类包含一个类的属性<code>.species</code>以及两个实例属性<code>.name</code>和<code>.age</code>。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     species <span class="token operator">=</span> <span class="token string">"Canis familiaris"</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         self<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>为了实例化这个类，你需要为name和age提供参数值。否则，Python会抛出一个<code>TypeError</code>异常：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#6>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
TypeError<span class="token punctuation">:</span> __init__<span class="token punctuation">(</span><span class="token punctuation">)</span> missing <span class="token number">2</span> required positional arguments<span class="token punctuation">:</span> <span class="token string">'name'</span> <span class="token keyword">and</span> <span class="token string">'age'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通过在类名后面的括号中填入值，可以将参数传递给name和age。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> buddy <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Buddy"</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>以上创建了两个<code>Dog</code>实例，一个是名叫Buddy的9岁小狗，另一个是名叫Miles的4岁小狗。</p>
<p><code>Dog</code>类的<code>.__init__()</code>方法有三个参数，为什么在上面的例子中只使用了2个参数呢？</p>
<p>当你实例化一个<code>Dog</code>对象的时候，Python会创建一个新的实例，并将它传递给<code>.__init__()</code>的第一个参数。这样就移除了<code>self</code>参数，所以你只需要担心<code>name</code>和<code>age</code>参数。</p>
<p>当你创建了<code>Dog</code>实例后，你就可以使用<strong>dot notation</strong>访问实例的属性了。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>name
<span class="token string">'Buddy'</span>
<span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>age
<span class="token number">9</span>

<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>name
<span class="token string">'Miles'</span>
<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>age
<span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>你还可以用相同的访问访问类的属性：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>species
<span class="token string">'Canis familiaris'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>使用类来组织数据的好处之一，就是可以确保实例拥有预期的属性。所有的<code>Dog</code>实例都有<code>.species</code>, <code>.name</code>和<code>.age</code>属性，所有你确定当访问这些属性的时候，总是能获取到相应的值。</p>
<p>虽然类能确保这些属性总是存在，但是相应的值却可以动态改变：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span>
<span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>age
<span class="token number">10</span>

<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>species <span class="token operator">=</span> <span class="token string">"Felis silvestris"</span>
<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>species
<span class="token string">'Felis silvestris'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在上面的例子中，你将<code>buddy</code>对象的属性<code>.age</code>更改为10，然后你将<code>miles</code>对象的属性<code>.species</code>更改为猫的品种”Felis silvestris”。虽然这样使得Miles看起来像是一只奇怪的狗，但是这对Python而言是有效的。</p>
<p>这里的关键点是，默认情况下，自定义对象是可变的(mutable)的。如果一个对象可以被动态更改，那么它就是可变的(mutable)。例如，列表和字典都是可变的，但是字符串和元组是不可变的(immutable)。</p>
<h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><p><strong>实例方法</strong>(<strong>Instance methods</strong>)是在类中定义的一种函数，这种函数只能被类的实例调用。跟<code>.__init__()</code>相同，实例方法的第一个参数都是<code>self</code>。</p>
<p>在IDLE打开一个新的文本编辑器，然后输入以下<code>Dog</code>类：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    species <span class="token operator">=</span> <span class="token string">"Canis familiaris"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token comment"># Instance method</span>
    <span class="token keyword">def</span> <span class="token function">description</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span></span><span class="token string"> years old"</span></span>

    <span class="token comment"># Another instance method</span>
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sound<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> says </span><span class="token interpolation"><span class="token punctuation">&#123;</span>sound<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>该<code>Dog</code>类有两个实例方法：</p>
<ol>
<li>**<code>.description()</code>**返回一个字符串，用于显示狗的名字和年龄。</li>
<li>**<code>.speak()</code>**有一个<code>sound</code>参数，返回一个字符串，用于显示狗的名字和吼叫声。</li>
</ol>
<p>将以上代码保存到文件<code>dog.py</code>，然后按F5运行程序。</p>
<p>然后打开交互式窗口，输入以下实例方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>description<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Miles is 4 years old'</span>

<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Woof Woof"</span><span class="token punctuation">)</span>
<span class="token string">'Miles says Woof Woof'</span>

<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Bow Wow"</span><span class="token punctuation">)</span>
<span class="token string">'Miles says Bow Wow'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在以上<code>Dog</code>类中，<code>.description()</code>返回了关于实例miles的信息。当你写类的时候，最好能有一个方法可以用来返回关于类的实例的说明信息。虽然<code>.description()</code>返回了实例的描述信息，但着并不是最佳的Python方式。</p>
<p>当你创建一个列表对象的时候，你可以用<code>print()</code>来显示以下内容：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Fletcher"</span><span class="token punctuation">,</span> <span class="token string">"David"</span><span class="token punctuation">,</span> <span class="token string">"Dan"</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'Fletcher'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Dan'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果我们用<code>print()</code>来打印miles对象，会发生什么呢：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>miles<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Dog <span class="token builtin">object</span> at <span class="token number">0x00aeff70</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>当你<code>print(miles)</code>的时候，你看到的是一串很奇怪的字符串，miles是一个<code>Dog</code>的对象，内存地址为0x00aeff70。这些信息并不是很有用。你可以通过定义一个特殊的实例方法<code>.__str__()</code>来打印出更有用的信息。</p>
<p>下面，将<code>.description()</code>方法的名字更改为<code>.__str__()</code>:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    <span class="token comment"># Leave other parts of Dog class as-is</span>

    <span class="token comment"># Replace .description() with __str__()</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span></span><span class="token string"> years old"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>保存文件然后按F5。现在，当你<code>print(miles)</code>的时候，你会得到更友好的输出内容：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>miles<span class="token punctuation">)</span>
<span class="token string">'Miles is 4 years old'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>像<code>.__init__()</code>和<code>.__str__()</code>这样的方法被称为<strong>dunder methods</strong>，因为他们的名字都是以双下划线开始，并以双下划线结尾。在Python中，有许多<strong>dunder methods</strong>可以用来定制类。虽然对于初学者来说，这些内容有点深奥，但是在Python中，<strong>dunder methods</strong>对于掌握面向对象的编程很重要。</p>
<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><p>类的继承是指一个类可以继承另一个类的所有特性和方法。新创建的类成为子类，被继承的类成为父类。</p>
<p>子类可以重写或者扩展父类的特性和方法。也就是说，子类既可以继承父类的所有特性和方法，也可以定义自己独有的特性性和方法。</p>
<p>虽然这个比喻不是十分恰当，类的继承有点类似于人类的遗传。</p>
<p>你可能继承了你母亲头发的颜色，这是你出生时的特性。但是，你决定将头发染成紫色，由于你母亲的头发不是紫色，所有可以说你重新定义(<strong>overridden</strong> )了头发的特性。</p>
<h3 id="遛狗公园的例子"><a href="#遛狗公园的例子" class="headerlink" title="遛狗公园的例子"></a>遛狗公园的例子</h3><p>假设你正在一个公园中遛狗。在这个公园里，有许多不同品种的狗，正在从事于各种不同的行为。</p>
<p>假设你想用Python类来为遛狗的公园建立一个模型。之前的<code>Dog</code>类可以通过狗的姓名和年龄来区分不同的狗，但是无法通过狗的品种来区分。</p>
<p>你可以在<code>Dog</code>类中添加<code>.breed</code>的特性：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    species <span class="token operator">=</span> <span class="token string">"Canis familiaris"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> breed<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>breed <span class="token operator">=</span> breed<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在以上类中，之所以省略了方法的定义，是因为与本章需要讨论的内容无关。</p>
<p>通过点击F5保存并运行文件，你可以在交互式窗口中，创建各种不同狗的实例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"Jack Russell Terrier"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> buddy <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Buddy"</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"Dachshund"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> jack <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"Bulldog"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> jim <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"Jim"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"Bulldog"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>不同品种的狗通常有不同的行为。例如，牛头犬的叫声比较低，声音类似于<code>woof</code>，但是腊肠犬的叫声比较高，声音类似于<code>yap</code>。</p>
<p>使用<code>Dog</code>类的时候，你必须为<code>.speak()</code>方法提供一个声音的参数<code>sound</code>，每次调用<code>Dog</code>实例的时候如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Yap"</span><span class="token punctuation">)</span>
<span class="token string">'Buddy says Yap'</span>

<span class="token operator">>></span><span class="token operator">></span> jim<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Woof"</span><span class="token punctuation">)</span>
<span class="token string">'Jim says Woof'</span>

<span class="token operator">>></span><span class="token operator">></span> jack<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Woof"</span><span class="token punctuation">)</span>
<span class="token string">'Jack says Woof'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>每次调用<code>.speak()</code>方法的时候，都要传递一个参数，这样既显得重复，又不太方便。此外，每次传递参数的时候，还需要根据狗的品种<code>.breed</code>来决定对应的声音参数。</p>
<p>你可以通过为每一种狗创建一个子类的方法，来简化以上问题。这使得你可以扩展子类从父类继承的方法，例如为<code>.speak()</code>指定默认的参数。</p>
<h3 id="父类和子类"><a href="#父类和子类" class="headerlink" title="父类和子类"></a>父类和子类</h3><p>接下来我们为三种不同品种的狗各自创建一个子类：Jack Russell Terrier, Dachshund, and Bulldog:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    species <span class="token operator">=</span> <span class="token string">"Canis familiaris"</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span></span><span class="token string"> years old"</span></span>

    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sound<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> says </span><span class="token interpolation"><span class="token punctuation">&#123;</span>sound<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>创建子类的时候，你需要为子类定义一个自己的名称，然后在括号中填写父类的名称：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JackRussellTerrier</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Dachshund</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Bulldog</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在你可以在交互式窗口中通过以下方式创建各种实例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> JackRussellTerrier<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> buddy <span class="token operator">=</span> Dachshund<span class="token punctuation">(</span><span class="token string">"Buddy"</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> jack <span class="token operator">=</span> Bulldog<span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> jim <span class="token operator">=</span> Bulldog<span class="token punctuation">(</span><span class="token string">"Jim"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>子类的实例继承了父类所有的特性和方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>species
<span class="token string">'Canis familiaris'</span>

<span class="token operator">>></span><span class="token operator">></span> buddy<span class="token punctuation">.</span>name
<span class="token string">'Buddy'</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>jack<span class="token punctuation">)</span>
Jack <span class="token keyword">is</span> <span class="token number">3</span> years old

<span class="token operator">>></span><span class="token operator">></span> jim<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Woof"</span><span class="token punctuation">)</span>
<span class="token string">'Jim says Woof'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果要判断某一个对象属于哪一个类，你可以使用内建函数<code>type()</code>:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">type</span><span class="token punctuation">(</span>miles<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.JackRussellTerrier'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如果你还想判断<code>miles</code>是否是<code>Dog</code>类的实例，可以i使用内建函数<code>isinstance()</code>:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>miles<span class="token punctuation">,</span> Dog<span class="token punctuation">)</span>
<span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>注意到<code>isinstance</code>需要两个参数，一个对象和一个类。以上例子中，<code>isinstance()</code>检查 <code>miles</code>是否是<code>Dog</code>类的使用，返回值为<code>True</code>。</p>
<p>对象<code>miles</code>，<code>buddy</code>，<code>jack</code>和<code>jim</code>都是<code>Dog</code>类的实例，但是<code>miles</code>不是<code>Bulldog</code>的实例，<code>jack</code>不是<code>Dachshund</code>的实例。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>miles<span class="token punctuation">,</span> Bulldog<span class="token punctuation">)</span>
<span class="token boolean">False</span>

<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>jack<span class="token punctuation">,</span> Dachshund<span class="token punctuation">)</span>
<span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>概而言之，所有子类的对象，同时也是父类的对象，但是它们并不一定是其它子类的对象。</p>
<h3 id="扩展父类的功能"><a href="#扩展父类的功能" class="headerlink" title="扩展父类的功能"></a>扩展父类的功能</h3><p>由于不同品种的狗有不同的叫声，如果你想要为每一种狗各自的<code>.speak()</code>方法指定一个默认的<code>sound</code>参数值，你可以在各自的子类中重新定义<code>.speak()</code>方法。</p>
<p>为了覆盖父类中的某一个方法，你需要在子类中定义相同名字的方法。下面以<code>JackRussellTerrier</code>子类为例：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JackRussellTerrier</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sound<span class="token operator">=</span><span class="token string">"Arf"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> says </span><span class="token interpolation"><span class="token punctuation">&#123;</span>sound<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>通过在子类<code>JackRussellTerrier</code>中重新定义方法<code>.speak()</code>后，现在JackRussellTerrier品种的狗有了一种默认的叫声“Arf”。</p>
<p>现在，如果你可以通过<code>JackRussellTerrier</code>的实例调用<code>.speak()</code>方法，并且不传递任何参数：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> JackRussellTerrier<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Miles says Arf'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>有时候，有些狗在愤怒的时候会发出不同的叫声，这是你仍然可以调用<code>.speak()</code>方法，并传递相应的参数值：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Grrr"</span><span class="token punctuation">)</span>
<span class="token string">'Miles says Grrr'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>请记住，如果对父类做了更改，会自动传递给子类。但是，如果子类已经重新定义了父类的特性或者方法，那么父类的更改并不会传递给子类。</p>
<p>例如，在<code>Dog</code>类中，更改<code>.speak()</code>中的返回字符串内容，将<code>says</code>更改为<code>barks</code>:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>
    <span class="token comment"># Leave other attributes and methods as they are</span>

    <span class="token comment"># Change the string returned by .speak()</span>
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sound<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>self<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span><span class="token string"> barks: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>sound<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在，你创建一个新的<code>Bulldog</code>实例，名称为<code>jim</code>，<code>jim.speak()</code>会返回新的字符串：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> jim <span class="token operator">=</span> Bulldog<span class="token punctuation">(</span><span class="token string">"Jim"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> jim<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token string">"Woof"</span><span class="token punctuation">)</span>
<span class="token string">'Jim barks: Woof'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>但是，如果调用<code>JackRussellTerrier</code>实例的<code>.speak()</code>方法，会发现并不会返回新的字符串：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> JackRussellTerrier<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Miles says Arf'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>有时候，可能需要完全覆盖父类的方法，但是在这个例子中，我们想让子类<code>JackRussellTerrier</code>继续使用父类中<code>.speak()</code>方法返回的字符串格式。</p>
<p>为了实现这个目的，你仍然需要在子类<code>JackRussellTerrier</code>中定义<code>.speak()</code>方法。但是，你在子类的<code>.speak()</code>方法中需要调用父类的<code>.speak()</code>方法，并且将相应的参数传递给父类的<code>.speak()</code>方法。</p>
<p>在子类中的某一个方法中，可以使用<code>super()</code>来访问父类：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JackRussellTerrier</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sound<span class="token operator">=</span><span class="token string">"Arf"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>speak<span class="token punctuation">(</span>sound<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>当你在子类<code>JackRussellTerrier</code>中调用<code>super().speak(sound)</code>的时候，Python会在父类<code>Dog</code>中查找<code>.speak()</code>方法，然后调用并传递参数<code>sound</code>。</p>
<p>下面，我们可以测试一下新定义的子类<code>JackRussellTerrier</code>：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> miles <span class="token operator">=</span> JackRussellTerrier<span class="token punctuation">(</span><span class="token string">"Miles"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> miles<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Miles barks: Arf'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>现在，当你调用<code>miles.speak()</code>的时候，你可以看到返回的结果是<code>Dog</code>类中定义的格式。</p>
<blockquote>
<p>注意：在上面的例子中，类的继承结构非常简单。<code>JackRussellTerrier</code>子类有一个父类<code>Dog</code>。在实际的应用场景中，类的结构十分复杂。</p>
<p><code>super()</code>不仅只是在父类中查找某个方法或者特性，它还可以在整个类的结构中查找匹配的类和特性。如果你使用<code>super()</code>的时候不太小心，容易导致意外的结果。</p>
</blockquote>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过本指南，你学到了Python中面向对象编程的知识。大多数编程语言，如Java, C#和C++等都是基于面向对象编程的原理，所以本指南的知识同样适用于以上语言。</p>
<p>在本指南中，你学到了以下内容：</p>
<ul>
<li>定义一个类</li>
<li>从一个类实例化一个对象</li>
<li>使用特性和方法来定义对象的属性和行为</li>
<li>通过继承，从父类创建一个子类</li>
<li>使用<code>super()</code>访问父类的某一个方法</li>
<li>使用<code>isinstance()</code>判断一个对象是否继承于另外一个类</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python-intermediate/" rel="tag"># python-intermediate</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2018/11/08/blog/ge-ren-bo-ke-github-pages-pian/" rel="prev" title="个人博客 — GitHub Pages篇">
                  <i class="fa fa-chevron-left"></i> 个人博客 — GitHub Pages篇
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Andy</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
