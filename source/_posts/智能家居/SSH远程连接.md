---
title: 树莓派 | 一条命令帮你远程连到家里的电脑上
date: 2021-10-26 18:37:00
tags: 
 - raspberrypi
categories: 
 - 智能家居
---

平时，我偶尔需要通过远程桌面连回家里面的电脑，下载一些文件或者做一些测试。但是，如果直接把电脑的远程桌面服务（TCP/3389）发布到公网上，数据肯定是得不到保障的。这时候，我想到了家里还有一台7 x 24小时运行的树莓派。这个小身板又能派上大用场了。**我打算利用树莓派的SSH服务，将办公室电脑和家里电脑的连接打通。**

> 提示：不一定要用树莓派，只要是一台运行SSH服务的Linux主机/虚拟机就行。

在这个场景中，主要包含以下内容：

- 家里的电脑：192.168.1.200
- 树莓派：192.168.1.100
- 家里公网地址：11.11.11.11
- 办公室电脑：10.1.1.50

![](20230307142016.png)
<!-- more -->

首先，需要在家中的路由器上，将SSH服务发布到公网上，建议公网的端口不要使用默认的22端口，尽量使用自定义端口，例如：63235。

具体如果将内网的服务发布到公网，建议可以查看路由器说明书。

然后，在办公室的电脑上，打开PowerShell窗口，执行以下命令：

```
ssh -L 127.0.0.1:53389:192.168.1.200:3389 pi@11.11.11.11 -p 63235 
```

执行以上命令后，如果没有配置证书认证，还需要输入树莓派或者Linux主机的用户名和密码。

打开远程桌面客户端程序mstsc.exe，然后输入: localhost:53389，就可以连回家里的电脑啦。

![](2021-10-26190304.png)
